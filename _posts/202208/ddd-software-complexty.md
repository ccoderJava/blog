---
title: 《领域驱动设计》之软件复杂度
date: 2022-08-08 11:13:36
author: 聪聪
category: DDD
tags:
- DDD
- 领域驱动
---

[TOC]

最近闲暇时间看了下张逸的《领域驱动设计》，书中对于软件复杂度包含的一些内容，让我有些同感。目前接触的一些系统中都会有一些`技术债`、`坏味道`在其中。

那么就在这里结合自身现有的一些系统设计，做一个随笔记录。

### 1.复杂系统

什么是复杂的系统呢？

> 由大量相互作用的部分组成的系统。与整个系统比起来，这些组成部分相对简单，没有中央控制，组成部分之间没有全局性通信，并且组成部分的相互作用导致了复杂行为。

这样的描述可以引入目前被大家进津津乐道的`微服务架构`，`云原生Service Mesh`等等，专注于单一职责与功能的小型模块，利用模块化的方式组合出复杂的大型应用程序，各功能模块使用与语言无关的API进行相互通信。

根据上述对于`复杂系统`的定义，可以将其划分到不同职能模块的微服务中，也可以对于单一系统的细粒度理解。

函数、类、模块、组件和服务等，这些都是构成一个复杂系统元素。这些相对简单的元素之间的作用却导致了软件系统的复杂行为，从而提升软件系统的复杂度。

可以从`理解能力维度`和`预测能力维度`两个方面来理解分析软件的复杂成因：

- **理解能力维度**：
    - 简单的 Simple
    - 复杂的 Complicated
- **预测能力维度**：
    - 有序的 Ordered
    - 复杂的 Complex
    - 混沌的 Chaotic

上述两个方面都蕴含了`复杂`，但是前者相对简单，可以理解为软件的被理解程度，从简单到复杂的进阶。

后者是与有序相对的，包含了软件的发展规律难以预测，是无序的，可以将其理解为复杂难测。

在`预测能力维度`中混沌才是最高层次的复杂，压根就不可预测，可以理解为业务上理解、梳理复杂难以理解，业务发展上无序且快速。

那么，在剖析软件系统的复杂度时，我们可以从`理解能力`和`预测能力`两个维度去探索复杂度的成因。

### 2.理解能力

是什么阻碍了你的理解能力呢？是陌生而产生的畏惧，还是庞大的规模产生的恐惧。

当项目组新来同学，需要快速理解整个项目架构、业务形态时，是否会迷失在错综复杂的系统调用、相互依赖的业务矩阵当中？

就像你来到一个陌生城市旅游时，是否会因为城市错综复杂的交通体系而迷失自我，倘若这座城市就是一个乡郊野外的村落，只有几间房屋和一条南北贯穿的街道，抬头便能将整个村落尽收眼底，你还会产生迷失之感吗？

因此，影响理解能力的第一要素便是：`规模`。

#### 2.1 规模

那么软件系统的规模是你我能够决定的吗？

当然不能，当业务高速发展，需求呈线性增长时，需求就像树木那样生长，一颗小树也会成为参天大树，只有到达某个时间节点时，才会趋于稳定。

当需求呈线性增长时，为了完成实现这些需求功能点时，软件系统的规模也会以近似的速度快速增长。

### 3.预测能力
